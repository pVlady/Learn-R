# Базовый тип data.frame

## Переименование столбцов
```r
names(df) <- c("COL1", "COL2", "COL3")        ; переименование трех первых столбцов
names(df)[names(df) == "Col4"] <- "COL4"      ; переименование конкретного столбца (Col4)
names(df)[] <- "COL4"                         ; переименование четвертого столбца
dplyr::rename(df, new_col1 = old_col1,        ; переименование с использованием пакета dplyr
                  new_col2 = old_col2, ...)
data.table::setnames(df,                      ; переименование с использованием пакета data.table
                     old = c("col1","col2"),
                     new = c("COL!", "COL2"))
```
## Сортировка строк
```r
df[order(df$col4), ]                      ; сортировка по одному столбцу (значения NA будут внизу)
df[order(-df$col2, df$col4), ]            ; сортировка по нескольким столбцам (значения NA будут внизу)
df[do.call("order", unname(df[, -1])), ]  ; сортировка по всем столбцам кроме 1-го (unname разыменовывает вектор названий столбцов)

# сортировка в заданном порядке значений вектора `my_vec` — преобразуем столбец в фактор с нужным порядком следования уровней
vec <- c("str_21", "str_11", "str_44", "str_02")    ; значения в заданном порядке столбца, по которому нужно отсортировать
df$COL <- factor(df$COL, levels = vec)              ; добавляем фактор из значений столбца
df[order(df$COL), ]                                 ; и сортируем по этому столбцу
df[order(factor(df$COL, levels = my_vec)), ]        ; то же в одну строку и без изменения исходного data.frame

# перенос в начало строк с заданным значением "STR" — сортируем по логическому вектору (от FALSE до TRUE)
df[order(df$COL != "STR"),]

# сортировка по шаблонам
pattern <- c("Mazda", "Merc", "Hornet")                          ; вектор шаблонов
idx_ls <- lapply(pattern, \(x) !grepl(paste0("^", x), df$col4))  ; получаем вектор совпадения значений столбца col4 с шаблонами
df[do.call("order", idx_ls), ]                                   ; сортировка
```
